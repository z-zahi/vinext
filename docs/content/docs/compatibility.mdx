---
title: Compatibility
description: What's supported, what's not, and ecosystem library status
---

~94% of the Next.js 16 API surface has full or partial support. The remaining gaps are intentional stubs for deprecated features and Partial Prerendering (which Next.js 16 reworked into `"use cache"` â€” that directive is fully supported).

> âœ… = full implementation | ðŸŸ¡ = partial | â¬œ = intentional stub/no-op

## Module shims

Every `next/*` import is shimmed to a Vite-compatible implementation.

| Module | | Notes |
|--------|---|-------|
| `next/link` | âœ… | All props including `prefetch`, `onNavigate`, scroll restoration, `basePath`, `locale` |
| `next/image` | ðŸŸ¡ | Remote images via [@unpic/react](https://unpic.pics) (28 CDNs). Local images via `<img>` + srcSet. No build-time optimization |
| `next/head` | âœ… | SSR collection + client-side DOM manipulation |
| `next/router` | âœ… | `useRouter`, `Router` singleton, events, client-side navigation, SSR context, i18n |
| `next/navigation` | âœ… | `usePathname`, `useSearchParams`, `useParams`, `useRouter`, `redirect`, `notFound`, `forbidden`, `unauthorized` |
| `next/server` | âœ… | `NextRequest`, `NextResponse`, `NextURL`, cookies, `userAgent`, `after`, `connection`, `URLPattern` |
| `next/headers` | âœ… | Async `headers()`, `cookies()`, `draftMode()` |
| `next/dynamic` | âœ… | `ssr: true`, `ssr: false`, `loading` component |
| `next/script` | âœ… | All 4 strategies (`beforeInteractive`, `afterInteractive`, `lazyOnload`, `worker`) |
| `next/font/google` | ðŸŸ¡ | Runtime CDN loading. No self-hosting, font subsetting, or fallback metrics |
| `next/font/local` | ðŸŸ¡ | Runtime `@font-face` injection. Not extracted at build time |
| `next/og` | âœ… | OG image generation via `@vercel/og` (Satori + resvg) |
| `next/cache` | âœ… | `revalidateTag`, `revalidatePath`, `unstable_cache`, pluggable `CacheHandler`, `"use cache"` with `cacheLife()` and `cacheTag()` |
| `next/form` | âœ… | GET form interception + POST server action delegation |
| `next/legacy/image` | âœ… | Translates legacy props to modern Image |
| `next/error` | âœ… | Default error page component |
| `next/config` | âœ… | `getConfig` / `setConfig` |
| `next/document` | âœ… | `Html`, `Head`, `Main`, `NextScript` |
| `next/constants` | âœ… | All phase constants |
| `next/amp` | â¬œ | No-op (AMP is deprecated) |
| `next/web-vitals` | â¬œ | No-op (use the `web-vitals` library directly) |

## Routing

| Feature | | Notes |
|---------|---|-------|
| File-system routing (`pages/`) | âœ… | Automatic scanning with hot-reload on file changes |
| File-system routing (`app/`) | âœ… | Pages, routes, layouts, templates, loading, error, not-found, forbidden, unauthorized |
| Dynamic routes `[param]` | âœ… | Both routers |
| Catch-all `[...slug]` | âœ… | Both routers |
| Optional catch-all `[[...slug]]` | âœ… | Both routers |
| Route groups `(group)` | âœ… | URL-transparent, layouts still apply |
| Parallel routes `@slot` | âœ… | Discovery, layout props, `default.tsx`, inherited slots |
| Intercepting routes | âœ… | `(.)`, `(..)`, `(..)(..)`, `(...)` conventions |
| Route handlers (`route.ts`) | âœ… | Named HTTP methods, auto OPTIONS/HEAD, cookie attachment |
| Middleware | âœ… | `middleware.ts` and `proxy.ts` (Next.js 16). Matcher patterns (string, array, regex) |
| i18n routing | ðŸŸ¡ | Pages Router locale prefix, Accept-Language detection. No domain-based routing |
| `basePath` | âœ… | Applied everywhere |
| `trailingSlash` | âœ… | 308 redirects to canonical form |

## Server features

| Feature | | Notes |
|---------|---|-------|
| SSR (Pages Router) | âœ… | Streaming, `_app`/`_document`, `__NEXT_DATA__`, hydration |
| SSR (App Router) | âœ… | RSC pipeline, nested layouts, streaming |
| `getStaticProps` | âœ… | Props, redirect, notFound, revalidate |
| `getStaticPaths` | âœ… | `fallback: false`, `true`, `"blocking"` |
| `getServerSideProps` | âœ… | Full context including locale |
| ISR | âœ… | Stale-while-revalidate, pluggable `CacheHandler`, background regeneration |
| Server Actions | âœ… | Action execution, FormData, re-render after mutation, `redirect()` in actions |
| React Server Components | âœ… | Via `@vitejs/plugin-rsc`. `"use client"` boundaries work correctly |
| Streaming SSR | âœ… | Both routers |
| Metadata API | âœ… | `metadata`, `generateMetadata`, `viewport`, `generateViewport`, title templates |
| `generateStaticParams` | âœ… | With `dynamicParams` enforcement |
| Metadata file routes | âœ… | sitemap.xml, robots.txt, manifest, favicon, OG images (static + dynamic) |
| Static export | âœ… | `output: 'export'` |
| `"use cache"` directive | âœ… | File-level and function-level. `cacheLife()`, `cacheTag()`, stale-while-revalidate |
| `instrumentation.ts` | âœ… | `register()` and `onRequestError()` callbacks |
| Route segment config | ðŸŸ¡ | `revalidate`, `dynamic`, `dynamicParams`. `runtime` and `preferredRegion` ignored |

## Configuration

| Feature | | Notes |
|---------|---|-------|
| `next.config.js` / `.ts` / `.mjs` | âœ… | Function configs, phase argument |
| `rewrites` / `redirects` / `headers` | âœ… | All phases, param interpolation |
| Environment variables | âœ… | `.env*`, `NEXT_PUBLIC_*`, variable expansion |
| `images` config | ðŸŸ¡ | Parsed but not used for optimization |

## Ecosystem libraries

Tested and working: **next-themes**, **nuqs**, **next-view-transitions**, **next-intl**, **better-auth**, **@vercel/analytics**, **tailwindcss**, **framer-motion**, **shadcn-ui**, **lucide-react**, **drizzle**, **prisma**.

## What's NOT supported (and won't be)

- **Vercel-specific features** â€” Use platform equivalents
- **AMP** â€” Deprecated since Next.js 13
- **`next export` (legacy)** â€” Use `output: 'export'` instead
- **Turbopack/webpack configuration** â€” Use Vite plugins
- **`next/jest`** â€” Use Vitest
- **Bug-for-bug parity with undocumented behavior**

## Known limitations

- **Image optimization doesn't happen at build time.** Remote images work via `@unpic/react`. Local images are routed through `/_vinext/image` on Workers.
- **Google Fonts are loaded from the CDN, not self-hosted.** No `size-adjust` fallback font metrics.
- **`useSelectedLayoutSegment(s)`** derives segments from the pathname. May differ in edge cases with parallel routes.
- **Route segment config** â€” `runtime` and `preferredRegion` are ignored.
- **Native Node modules (sharp, resvg, satori)** crash Vite's RSC dev environment. Dynamic OG routes using these work in production but not in dev.
